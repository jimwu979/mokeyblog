"use strict";!function(){var post_content={info:{title:!1,class:!1,date:{year:!1,month:!1,day:!1},img:!1,banner:!1,slideShow:!1},article:{html:!1,img:[]},message:{all:!1,each:[]}};function init(){}function save(){var e=$(".COMPONENT_elementbox");if(e.hasClass("fill"))for(var t=e.children().length,i="",a=0;a<t;a++){var s=e.children().eq(a),l=void 0;switch(s.attr("data-type")){case"title":l=s.find("input").val(),i+="<h3>".concat(l,"</h3>");break;case"paragraphy":l=s.find("textarea").val(),i+="<p>".concat(l,"</p>");break;case"image":var n,o,c,r=s.find(".COMPONENT_inputbox_image").css("background-image"),g=r.indexOf(";base64,");-1!=g?(-1!=(o=(n=r.slice(5,-2)).slice(0,g)).indexOf("jpeg")?o="jpeg":-1!=o.indexOf("jpg")?o="jpg":-1!=o.indexOf("png")?o="png":-1!=o.indexOf("svg")&&(o="svg"),l=s.find("input").attr("id")+"."+o,i+="<img src='img/".concat(l,"'/>"),-1==(c=$.map(post_content.article.img,function(e,t){return e.value}).indexOf(l))?post_content.article.img.push({value:l,img_base64:n}):post_content.article.img[c].img_base64=n):(l=r.slice(5,-2),i+="<img src='".concat(l,"'/>"))}post_content.article.html=i}ajax(post_content),$("#saveSuccess").addClass("open")}function display_allmessage(){var e=$(this);post_content.message.all=e.siblings("label").hasClass("open"),console.log(post_content)}function fill_information(){var _this=$(this),goal=_this.attr("data-savePosition"),value,inputType=_this.attr("type"),setTimeout_sec,reader;"file"==inputType?(setTimeout_sec=500,reader=new FileReader,reader.readAsDataURL(_this[0].files[0]),reader.onload=function(e){value=reader.result}):(setTimeout_sec=0,value=_this.val()),setTimeout(function(){eval("post_content."+goal+"= value")},setTimeout_sec)}function fill_message(){var e=$(this),t=e.attr("id"),i=e.siblings("label").hasClass("open");post_content.message.each.push({input_id:t,display:i})}function fillArticle(){$(this).addClass("fill")}function deleteArticle(){ajax("delete"),goToBlogList()}function whetherToConfirmDelete(){$(".whetherToDeleteArticle").addClass("open")}function closeLightbox(){$(this).parents(".lightbox").removeClass("open")}function goToBlogList(){location.href="blog_list.php"}init(),$(".COMPONENT_elementbox").click(fillArticle),$("#sec_information input").change(fill_information),$("#sec_message input#showAllMessage").change(display_allmessage),$("#sec_message .message_list input").change(fill_message),$("#save").click(save),$("#delete").click(whetherToConfirmDelete),$("#whetherToDeleteArticle .cancel").click(closeLightbox),$("#whetherToDeleteArticle .confirm").click(deleteArticle),$("#saveSuccess .confirm").click(goToBlogList)}();